{% extends "base.html" %} {% block content %}

<section class="content-container">
    
    <!-- Profile greeting -->
    <h3>Hello, {{ user.username }}</h3>
    <hr>
    
    <!-- User information i.e. username and last seen datetime -->
    <div class="row">
        
        <div class="col s12">Username: {{ user.username }}</div>
        <div class="col s12">Last seen: {{ user.last_seen }}</div>
        
    </div>
    
    <!-- Delete account button -->
    <div class="row">
        
        <div class="col s12 center-on-small-only delete-acc"><a onclick="confirmationAcc(event)" class="btn waves-effect waves-light red darken-1" href="{{url_for('delete_account', user_id=user._id)}}">Delete account<i class="material-icons right">delete_forever</i></a></div>
   
    </div>
    
    <!-- Added reviews section heading -->
    <div class="row">
        
        <div class="col s12">
            <h4>{{ user.username }}'s reviews</h4>
        </div>
        
    </div>
    
    <hr> 
    
    <!-- List of reviews added by the user -->
    {% for review in reviews %}
    
    <div class="row valign-wrapper">
        
        <div class="col m2 s4 center-on-small-only image-profile-container"><img class="image-profile" src="{{ review.cover }}" alt="Picture of {{ review.title }}"></div>
        <div class="col m6 s8 center-on-small-only profile-review-title"><a href="{{url_for('view_review', review_id=review._id)}}">{{ review.title }} by {{ review.author }}</a></div>
        
        <!-- Edit and delete review buttons -->
        <div class="col m2 s6 center hide-on-small-only user-reviews"><a href="{{url_for('edit_review', review_id=review._id)}}">Edit</a></div>
        <div class="col m2 s6 center hide-on-small-only user-reviews delete-btn"><a onclick="confirmDel(event)" href="{{url_for('delete_review', review_id=review._id)}}">Delete</a></div>
    
    </div>

    {% endfor %}
    
    <!-- Liked reviews section heading -->
     <div class="row">
         
        <div class="col s12">
            <h4>{{ user.username }}'s liked reviews</h4>
        </div>
        
    </div>
    
    <hr> 
    
    <!-- List of reviews liked by the user -->
    {% for review in upvotes %}
    
    <div class="row valign-wrapper">
        
        <div class="col m2 s4 center-on-small-only image-profile-container"><img class="image-profile" src="{{ review.cover }}" alt="Picture of {{ review.title }}"></div>
        <div class="col m10 s8 center-on-small-only profile-review-title"><a href="{{url_for('view_review', review_id=review._id)}}">{{ review.title }} by {{ review.author }}</a></div>
    
    </div>

    {% endfor %}
    
    <!-- Disliked reviews section heading -->
     <div class="row">
         
        <div class="col s12">
            <h4>{{ user.username }}'s disliked reviews</h4>
        </div>
        
    </div>
    
    <hr>
    
     <!-- List of reviews disliked by the user -->
    {% for review in downvotes %}
    
    <div class="row valign-wrapper">
        
        <div class="col m2 s4 center-on-small-only image-profile-container"><img class="image-profile" src="{{ review.cover }}" alt="Picture of {{ review.title }}"></div>
        <div class="col m10 s8 center-on-small-only profile-review-title"><a href="{{url_for('view_review', review_id=review._id)}}">{{ review.title }} by {{ review.author }}</a></div>
    
    </div>

    {% endfor %}
    
    <!-- Commented reviews section heading -->
    <div class="row">
        
        <div class="col s12">
            <h4>{{ user.username }}'s commented reviews</h4>
        </div>
        
    </div>
    
    <hr>
    
    <!-- List of reviews commented on by the user -->
    {% for review in comments %}
    
    <div class="row valign-wrapper">
        
        <div class="col m2 s4 center-on-small-only image-profile-container"><img class="image-profile" src="{{ review.cover }}" alt="Picture of {{ review.title }}"></div>
        <div class="col m10 s8 center-on-small-only profile-review-title"><a href="{{url_for('view_review', review_id=review._id)}}">{{ review.title }} by {{ review.author }}</a></div>
    
    </div>

    {% endfor %}
    
</section>

{% endblock %}
